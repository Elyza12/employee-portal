<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Awi Employee Portal</title>
<style>
    #employeeView { display: none; }

    body { font-family: Arial, sans-serif; background: #f4f4f4; margin: 0; padding: 0; }
    header { background: #0077cc; color: white; padding: 20px; text-align: center; }
    section { display: none; padding: 20px; max-width: 900px; margin: 20px auto; background: white; border-radius: 8px; box-shadow: 0 0 10px #ccc; }
    table { width: 100%; border-collapse: collapse; margin-top: 10px; }
    th, td { border: 1px solid #ddd; padding: 10px; text-align: left; }
    th { background: #0077cc; color: white; }
    td { background: #f9f9f9; }
    input, button { width: 100%; padding: 10px; margin: 5px 0; box-sizing: border-box; }
    button { background: #0077cc; color: white; border: none; cursor: pointer; margin-top: 10px; border-radius: 5px; font-size: 16px; }
    button:hover { background: #005fa3; }
    img.schedule { width: 100%; max-width: 1000px; border: 1px solid #ccc; border-radius: 8px; margin-top: 10px; }

    @media(max-width:600px){
        table, thead, tbody, th, td, tr{display:block;}
        th{display:none;}
        tr{margin-bottom:15px;border-bottom:2px solid #ddd;}
        td{border:none;position:relative;padding-left:50%;}
        td::before{position:absolute;left:10px;top:10px;width:45%;font-weight:bold;}
        td:nth-of-type(1)::before{content:"Date";}
        td:nth-of-type(2)::before{content:"Incident";}
        td:nth-of-type(3)::before{content:"Status";}
        td:nth-of-type(4)::before{content:"Note";}
    }
</style>
</head>
<body>
<header>Employee Portal</header>

<!-- Login Section -->
<section id="login">
    <h2>Login</h2>
    <form id="loginForm">
        <input type="text" id="username" placeholder="First Name" required>
        <input type="password" id="password" placeholder="Password" required>
        <button type="submit">Login</button>
    </form>
    <p id="loginMessage" style="color:red;"></p>
</section>

<!-- Employee Portal -->
<section id="portal">
    <h2>Welcome, <span id="employeeName"></span></h2>
    
    <!-- Employee View -->
    <div id="employeeView">
        <h3>Work Schedule</h3>
        <img src="schedule.png" alt="Schedule" class="schedule">

        <h3>Incident Reports</h3>
        <table id="irTable">
            <tr>
                <th>Date</th><th>Incident</th><th>Status</th><th>Note</th>
            </tr>
        </table>

        <input type="password" id="newPassword" placeholder="New Password">
        <button onclick="changePassword()">Update Password</button>
    </div>

    <button style="margin-top:20px;" onclick="logout()">Logout</button>
</section>

<script>
document.addEventListener("DOMContentLoaded", function(){
    const employees = {
        'eliza': { password:'1234', irs:[{ date:'January 23, 2026', incident:'Food Violation Policy', status:'IR SERVED', note:'Warning for Suspension' }]},
        'rachelle': { password:'1234', irs:[] },
        'ramy': { password:'1234', irs:[{date:'NOVEMBER 16, 2025', incident:'AWOL', status:'IR SERVED', note:'Warning for Suspension'}] },
        'penales': { password:'1234', irs:[] },
        'joshua': { password:'1234', irs:[] },
        'ramos': { password:'1234', irs:[{date:'January 23, 2026', incident:'Food Violation Policy', status:'IR SERVED', note:'Warning for Suspension'}] }
        // add more employees as needed
    };

    const loginForm = document.getElementById('loginForm');
    loginForm.addEventListener('submit', function(e){
        e.preventDefault();
        const user = document.getElementById('username').value.trim().toLowerCase();
        const pass = document.getElementById('password').value;

        if(employees[user] && employees[user].password === pass){
            document.getElementById('login').style.display='none';
            document.getElementById('portal').style.display='block';
            document.getElementById('employeeName').innerText = user.charAt(0).toUpperCase() + user.slice(1);

            // show employee view
            document.getElementById('employeeView').style.display = 'block';
            loadIR(user);
        } else {
            document.getElementById('loginMessage').innerText='Invalid username or password';
        }
    });

    function loadIR(user){
        const table = document.getElementById('irTable');
        table.innerHTML = '<tr><th>Date</th><th>Incident</th><th>Status</th><th>Note</th></tr>';
        employees[user].irs.forEach(ir=>{
            const row = table.insertRow();
            row.insertCell(0).innerText = ir.date;
            row.insertCell(1).innerText = ir.incident;
            row.insertCell(2).innerText = ir.status;
            row.insertCell(3).innerText = ir.note;
        });
    }

    window.logout = function(){
        document.getElementById('portal').style.display='none';
        document.getElementById('login').style.display='block';
        document.getElementById('username').value='';
        document.getElementById('password').value='';
        document.getElementById('loginMessage').innerText='';
    }

    window.changePassword = function(){
        const newPass = document.getElementById('newPassword').value;
        const user = document.getElementById('employeeName').innerText.toLowerCase();

        if(!newPass){
            alert('Enter a new password');
            return;
        }
        if(newPass === employees[user].password){
            alert('New password must be different from the old one');
            return;
        }
        employees[user].password = newPass;
        alert('Password updated successfully!');
        document.getElementById('newPassword').value='';
    }

    document.getElementById('login').style.display='block';
});
</script>
</body>
</html>
